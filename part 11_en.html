<!DOCTYPE html>
<html lang="en"><head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
<title>Flashcards</title>
<style>
*{box-sizing:border-box;margin:0;padding:0}
body{font-family:-apple-system,BlinkMacSystemFont,sans-serif;
     background:#fafafa;color:#333;
     max-width:600px;margin:0 auto;padding:1rem;
     padding-bottom:4rem;}
h1{text-align:center;margin-bottom:1rem;font-size:1.8rem}
.flashcard{background:#fff;border:1px solid #ddd;border-radius:12px;
           padding:1.5rem;margin-bottom:1.5rem;position:relative;
           touch-action:manipulation;min-height:200px;cursor:pointer}
.flashcard.remembered{border-color:#43a047}
.remembered-badge{position:absolute;top:8px;right:12px;
                  background:#43a047;color:#fff;border-radius:8px;
                  padding:2px 6px;font-size:.75rem;display:none}
.flashcard.remembered .remembered-badge{display:block}
.content{font-size:1.5rem;min-height:7em;
         display:flex;align-items:center;justify-content:center;
         margin-bottom:.75rem}
.buttons{display:flex;flex-wrap:wrap;gap:.5rem;justify-content:center}
.buttons button{flex:1 1 30%;padding:.5rem;font-size:1rem;
                border:none;border-radius:8px;cursor:pointer}
.remember-button{background:#eee;color:#333}
.remember-button.remembered{background:#43a047;color:#fff}

/* In-card play button resized to match 4rem floating buttons */
.play-button {
  flex: none;               /* override flex sizing */
  width: 4rem;              /* ~64px */
  height: 4rem;             /* ~64px */
  padding: 0;
  border: none;
  border-radius: 50%;
  font-size: 2.5rem;        /* icon size */
  background: #fff;
  color: #1976d2;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  box-shadow: 0 2px 6px rgba(0,0,0,0.2);
}

/* Modal */
.modal{display:none;position:fixed;top:0;left:0;right:0;bottom:0;
       background:rgba(0,0,0,.5);align-items:center;justify-content:center;
       z-index:1000}
.modal-content{background:#fff;border-radius:12px;
               padding:1.5rem;max-width:90%;width:320px}
.modal-content h2{margin-bottom:.5rem;font-size:1.2rem}
.modal-content label{display:block;margin:.5rem 0 .25rem}
.modal-content select,
.modal-content input[type="range"]{width:100%}
.modal-content .close{float:right;font-size:1.2rem;cursor:pointer}
.lang-settings{padding:1rem 0;margin-bottom:1.5rem;min-height:180px}

/* Enlarged floating buttons */
#settings-button,
#flip-all-button {
  position: fixed;
  bottom: 1rem;
  z-index: 1001;
  background: #fff;
  border: none;
  border-radius: 50%;
  width: 4rem;        /* ~64px */
  height: 4rem;       /* ~64px */
  padding: 0;
  font-size: 2.5rem;  /* icon size */
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  box-shadow: 0 2px 6px rgba(0,0,0,0.2);
}
#flip-all-button { right: 6rem; }
#settings-button  { right: 1rem; }

/* Arrow-only return button bottom-left */
#return-button {
  position: fixed;
  bottom: 1rem;
  left: 1rem;
  background: #1976d2;
  color: #fff;
  border: none;
  border-radius: 50%;
  width: 3.5rem;      /* ~56px */
  height: 3.5rem;     /* ~56px */
  padding: 0;
  font-size: 2rem;    /* arrow size */
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  box-shadow: 0 2px 6px rgba(0,0,0,0.2);
}
</style>
</head><body>
<h1>Flashcards</h1>
<button id="flip-all-button" title="Flip all cards to Arabic">üîÑ</button>
<button id="settings-button" title="Settings">‚öôÔ∏è</button>
<div id="card-container"></div>
<div id="settings-modal" class="modal">
  <div class="modal-content">
    <span class="close" title="Close">√ó</span>
    <h2>Voice Settings</h2>
    <div class="lang-settings" data-lang="ar">
      <label>Arabic Voice:</label>
      <select class="voice-select"></select>
      <label>Rate: <span class="rate-value">1</span></label>
      <input type="range" class="rate-range" min="0.5" max="2" step="0.1" value="1">
      <label>Pitch: <span class="pitch-value">1</span></label>
      <input type="range" class="pitch-range" min="0" max="2" step="0.1" value="1">
    </div><hr>
    <div class="lang-settings" data-lang="en">
      <label>English Voice:</label>
      <select class="voice-select"></select>
      <label>Rate: <span class="rate-value">1</span></label>
      <input type="range" class="rate-range" min="0.5" max="2" step="0.1" value="1">
      <label>Pitch: <span class="pitch-value">1</span></label>
      <input type="range" class="pitch-range" min="0" max="2" step="0.1" value="1">
    </div><hr>
    <div class="lang-settings" data-lang="fr">
      <label>French Voice:</label>
      <select class="voice-select"></select>
      <label>Rate: <span class="rate-value">1</span></label>
      <input type="range" class="rate-range" min="0.5" max="2" step="0.1" value="1">
      <label>Pitch: <span class="pitch-value">1</span></label>
      <input type="range" class="pitch-range" min="0" max="2" step="0.1" value="1">
    </div><hr>
  </div>
</div>

<!-- Arrow-only return button -->
<button
  id="return-button"
  title="Return to Main Page"
  onclick="window.location.href='index_en.html'"
>
  ‚Üê
</button>

<script>
const cards = [
  {arabic:"\u0623\u062a\u062d\u062f\u0627\u0643 \u0623\u0646 \u062a\u0645\u0644\u064a \u0639\u0644\u064a\u0651 \u0643\u064a\u0641 \u0623\u0639\u064a\u0634 \u062d\u064a\u0627\u062a\u064a.",english:"I defy you to dictate how I should live my life.",french:"Je te d\u00e9fie de me dicter comment je devrais vivre ma vie."},
  {arabic:"\u0637\u0644\u0628 \u0627\u0644\u062f\u0641\u0627\u0639 \u0639\u0646 \u0634\u062e\u0635 \u0623\u0648 \u062a\u062f\u0645\u064a\u0631 \u0634\u062e\u0635",english:"Ask to defend someone or crush someone",french:"Demander de d\u00e9fendre quelqu\u2019un ou fracasser quelqu\u2019un"},
  {arabic:"\u0645\u0633\u062a\u0647\u062f\u0641 \u0627\u0646\u062a\u062e\u0627\u0628\u064a\u064b\u0627",english:"Electoral target",french:"Cibl\u00e9 \u00e9lectoral"},
  {arabic:"\u0627\u0644\u0634\u062e\u0635 \u0627\u0644\u0630\u064a \u064a\u062a\u0641\u0627\u062e\u0631 \u0628\u0641\u0636\u0644\u0647 \u0639\u0644\u0649 \u0634\u062e\u0635 \u0622\u062e\u0631",english:"One who boasts of his favours done to another",french:"Celui qui se vante des faveurs qu'il a rendues \u00e0 un autre"},
  {arabic:"\u0645\u0639\u064a\u0628",english:"Flawed",french:"D\u00e9faut"},
  {arabic:"\u0627\u0644\u062f\u0648\u0644\u0629 \u0627\u0644\u0623\u0643\u062b\u0631 \u062a\u0637\u0648\u0631\u064b\u0627 \u0645\u0646 \u062d\u064a\u062b \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a \u0627\u0644\u062a\u0643\u0646\u0648\u0644\u0648\u062c\u064a\u0629 \u0627\u0644\u0632\u0631\u0627\u0639\u064a\u0629",english:"The most developed country in terms of agricultural technology products",french:"Le pays le plus d\u00e9velopp\u00e9 au niveau des produits technologiques agricoles"},
  {arabic:"\u0646\u0633\u0628\u0629 \u0643\u0628\u064a\u0631\u0629 \u0645\u0646 \u0633\u0643\u0627\u0646 \u0627\u0644\u0647\u0646\u062f \u064a\u0639\u062a\u0645\u062f\u0648\u0646 \u0639\u0644\u0649 \u0627\u0644\u0632\u0631\u0627\u0639\u0629 \u0648\u0627\u0644\u0645\u0632\u0627\u0631\u0639 \u0644\u0643\u0633\u0628 \u0627\u0644\u062f\u062e\u0644.",english:"A large portion of the Indian population relies on agriculture and plantations for income.",french:"Une grosse partie de la population indienne s'appuie sur l'agriculture et les plantations pour son revenu."},
  {arabic:"\u062b\u0646\u0627\u0626\u064a",english:"Bilateral",french:"Bilat\u00e9ral"},
  {arabic:"\u0645\u062d\u0627\u0645",english:"Attorney",french:"Avocat"},
  {arabic:"\u0645\u0639\u064a\u0646",english:"Appointed",french:"Nomm\u00e9"},
  {arabic:"\u062e\u0637\u0627\u0628",english:"Allocution",french:"Allocution"},
  {arabic:"\u0623\u0646\u062a \u0645\u062c\u0631\u062f \u0634\u062e\u0635 \u062a\u0627\u0641\u0647",english:"You\u2019re just a lightweight",french:"Tu n\u2019es qu\u2019un poids l\u00e9ger / peu influent"},
  {arabic:"\u0627\u0644\u062a\u0648\u062f\u062f/\u0633\u0645\u0633\u0627\u0631",english:"Courting / Broker",french:"Courtisage / Courtier"},
  {arabic:"\u062a\u062c\u062f\u064a\u0641",english:"Blasphemy",french:"Blasph\u00e8me"},
  {arabic:"\u0627\u0644\u062f\u0628\u0644\u062c\u0629",english:"Dubbing",french:"Doublage"},
  {arabic:"\u0645\u0635\u0627\u062f\u0631 \u0627\u0644\u062c\u0648\u0627\u0646\u0628 \u0627\u0644\u0645\u062a\u0641\u0642 \u0639\u0644\u064a\u0647\u0627",english:"Connot side sources",french:"Sources connues"},
  {arabic:"\u0627\u0644\u0631\u0628\u0627",english:"Usury",french:"Usure"},
  {arabic:"\u0623\u062d\u062f \u0623\u0633\u0628\u0627\u0628 \u062f\u0639\u0645 \u0647\u0630\u0627 \u0627\u0644\u0628\u0644\u062f \u0647\u0648 \u0648\u062c\u0648\u062f \u0645\u0635\u0644\u062d\u0629 \u0645\u0627\u062f\u064a\u0629.",english:"One of the reasons why this country has a lot of support is because there\u2019s a material interest.",french:"L'une des raisons pour lesquelles ce pays a beaucoup de soutien est qu'il y a un int\u00e9r\u00eat mat\u00e9riel."},
  {arabic:"\u0627\u0644\u0627\u0633\u062a\u062b\u0646\u0627\u0621\u0627\u062a \u0627\u0644\u062a\u064a \u062a\u0624\u0643\u062f \u0627\u0644\u0642\u0627\u0639\u062f\u0629",english:"The exceptions that prove the rule.",french:"Les exceptions qui confirment la r\u00e8gle."},
  {arabic:"\u064a\u0645\u0643\u0646 \u0627\u0633\u062a\u062e\u062f\u0627\u0645 \u0627\u0644\u062a\u0644\u0627\u0639\u0628 \u0628\u0627\u0644\u0643\u0644\u0645\u0627\u062a \u0644\u0625\u0646\u0634\u0627\u0621 \u0635\u0648\u0631\u0629 \u0623\u0648 \u0627\u0646\u0637\u0628\u0627\u0639 \u0645\u0639\u064a\u0646 \u0641\u064a \u0623\u0630\u0647\u0627\u0646 \u0627\u0644\u062c\u0645\u0647\u0648\u0631.",english:"Wordplay can be used to create a specific image or impression in the minds of the audience.",french:"Les jeux de mots peuvent \u00eatre utilis\u00e9s pour cr\u00e9er une image ou une impression particuli\u00e8re dans l'esprit du public."},
  {arabic:"\u0628\u062f\u0648\u0646 \u0648\u0633\u0627\u0626\u0644 \u0627\u0644\u062a\u0648\u0627\u0635\u0644 \u0627\u0644\u0627\u062c\u062a\u0645\u0627\u0639\u064a\u060c \u0644\u0643\u0627\u0646 \u0645\u0646 \u0627\u0644\u0623\u0633\u0647\u0644 \u0644\u0647\u0645 \u0625\u062e\u0641\u0627\u0621 \u0628\u0639\u0636 \u0627\u0644\u062d\u0642\u0627\u0626\u0642 \u0627\u0644\u0645\u062a\u0639\u0644\u0642\u0629 \u0628\u0627\u0644\u0634\u0631\u0637\u0629.",english:"Without social media, it would have been easier for them to conceal certain truths related to the police.",french:"Sans les r\u00e9seaux sociaux, il aurait \u00e9t\u00e9 plus facile pour eux de dissimuler certaines v\u00e9rit\u00e9s li\u00e9es \u00e0 la police."},
  {arabic:"\u0628\u0627\u0644\u0637\u0628\u0639: \"\u0644\u0642\u062f \u062c\u0639\u0644\u062a \u0648\u0633\u0627\u0626\u0644 \u0627\u0644\u062a\u0648\u0627\u0635\u0644 \u0627\u0644\u0627\u062c\u062a\u0645\u0627\u0639\u064a \u0645\u0646 \u0627\u0644\u0635\u0639\u0628 \u0639\u0644\u0649 \u0627\u0644\u0633\u0644\u0637\u0627\u062a \u0625\u062e\u0641\u0627\u0621 \u0628\u0639\u0636 \u0627\u0644\u062d\u0642\u0627\u0626\u0642 \u0627\u0644\u062a\u064a \u062d\u062f\u062b\u062a \u0645\u0639 \u0627\u0644\u0634\u0631\u0637\u0629.\"",english:"Of course: \"Social media has made it harder for the authorities to hide some truths that have occurred with police.\"",french:"Bien s\u00fbr : \"Les r\u00e9seaux sociaux ont rendu plus difficile pour les autorit\u00e9s de cacher certaines v\u00e9rit\u00e9s qui se sont produites avec la police.\""},
  {arabic:"\u0635\u062d\u064a\u062d\u060c \u0645\u0648\u0627\u0642\u0639 \u0627\u0644\u062a\u0648\u0627\u0635\u0644 \u0627\u0644\u0627\u062c\u062a\u0645\u0627\u0639\u064a \u0633\u0627\u0647\u0645\u062a \u0641\u064a \u062c\u0639\u0644 \u0627\u0644\u0623\u0645\u0648\u0631 \u0623\u0643\u062b\u0631 \u0634\u0641\u0627\u0641\u064a\u0629 \u0648\u0642\u062f \u062a\u062c\u0646\u0628\u062a \u0627\u0644\u0633\u0644\u0637\u0627\u062a \u0625\u062e\u0641\u0627\u0621 \u0628\u0639\u0636 \u0627\u0644\u062d\u0642\u0627\u0626\u0642 \u0628\u0641\u0636\u0644 \u0647\u0630\u0647 \u0627\u0644\u0648\u0633\u0627\u0626\u0644 \u0627\u0644\u062a\u0642\u0646\u064a\u0629.",english:"True, social media has contributed to making things more transparent, and the authorities avoided hiding some facts thanks to these technological tools.",french:"Correct, les r\u00e9seaux sociaux ont aid\u00e9 \u00e0 rendre les choses plus transparentes, et les autorit\u00e9s ont \u00e9vit\u00e9 de cacher certaines v\u00e9rit\u00e9s gr\u00e2ce \u00e0 ces moyens techniques."},
  {arabic:"\u0644\u0645\u0627\u0630\u0627\u060c \u0641\u064a \u0627\u0644\u0625\u0639\u0644\u0627\u0645 \u0627\u0644\u0641\u0631\u0646\u0633\u064a\u060c \u0639\u0646\u062f\u0645\u0627 \u064a\u0646\u0627\u0642\u0634\u0648\u0646 \u0645\u0648\u0636\u0648\u0639\u064b\u0627 \u0623\u062c\u0646\u0628\u064a\u064b\u0627\u060c \u064a\u0633\u062a\u0636\u064a\u0641\u0648\u0646 \u0641\u0642\u0637 \u0645\u062d\u0644\u0644\u064a\u0646 \u0641\u0631\u0646\u0633\u064a\u064a\u0646\u061f",english:"Why, in French media, when discussing a foreign topic, do they only invite French analysts?",french:"Pourquoi, dans les m\u00e9dias fran\u00e7ais, lorsqu'on aborde un sujet \u00e9tranger, on invite que des analystes fran\u00e7ais ?"},
  {arabic:"\u062a\u0645 \u0637\u0639\u0646 \u0627\u0644\u0645\u0644\u0643",english:"The king was stabbed",french:"Le roi a \u00e9t\u00e9 poignard\u00e9"},
  {arabic:"\u0623\u062a\u062d\u062f\u0627\u0643 \u0623\u0646 \u062a\u0642\u0648\u0644 \u0627\u0644\u062d\u0642\u064a\u0642\u0629",english:"I dare you to tell the truth",french:"Je te mets au d\u00e9fi de dire la v\u00e9rit\u00e9"},
];
// Remembered state
let rememberedStates = {};
try { rememberedStates = JSON.parse(localStorage.getItem('flashcardRemembered'))||{}; } catch {}
function saveRemembered(){ localStorage.setItem('flashcardRemembered',JSON.stringify(rememberedStates)); }
// Voice settings
const voiceSettings = { ar:{voiceURI:null,rate:1,pitch:1}, en:{voiceURI:null,rate:1,pitch:1}, fr:{voiceURI:null,rate:1,pitch:1} };
const sv = localStorage.getItem('flashcardVoiceSettings');
if(sv) Object.assign(voiceSettings,JSON.parse(sv));
function populateVoiceSelects(){
  const vlist = speechSynthesis.getVoices();
  document.querySelectorAll('.lang-settings').forEach(cfg=>{
    const lang=cfg.dataset.lang, sel=cfg.querySelector('.voice-select');
    sel.innerHTML='';
    vlist.filter(v=>v.lang.startsWith(lang))
         .forEach(v=>sel.append(new Option(`${v.name} (${v.lang})`,v.voiceURI)));
    if(voiceSettings[lang].voiceURI) sel.value=voiceSettings[lang].voiceURI;
  });
}
speechSynthesis.onvoiceschanged=populateVoiceSelects;
// Modal controls
const modal=document.getElementById('settings-modal');
document.getElementById('settings-button').onclick=()=>{ populateVoiceSelects(); modal.style.display='flex'; };
modal.querySelector('.close').onclick=()=>{ modal.style.display='none'; localStorage.setItem('flashcardVoiceSettings',JSON.stringify(voiceSettings)); };
document.querySelectorAll('.lang-settings').forEach(cfg=>{
  const lang=cfg.dataset.lang;
  cfg.querySelector('.voice-select').onchange=e=>voiceSettings[lang].voiceURI=e.target.value;
  const rate=cfg.querySelector('.rate-range'), rv=cfg.querySelector('.rate-value');
  rate.oninput=e=>{rv.textContent=e.target.value;voiceSettings[lang].rate=+e.target.value;};
  rate.value=voiceSettings[lang].rate; rv.textContent=rate.value;
  const pitch=cfg.querySelector('.pitch-range'), pv=cfg.querySelector('.pitch-value');
  pitch.oninput=e=>{pv.textContent=e.target.value;voiceSettings[lang].pitch=+e.target.value;};
  pitch.value=voiceSettings[lang].pitch; pv.textContent=pitch.value;
});
// Card builder
function createCard(d,i){
  const card=document.createElement('div'); card.className='flashcard'; card.dataset.side=0;
  const badge=document.createElement('span'); badge.className='remembered-badge'; badge.textContent='Remembered ‚úì';
  card.append(badge);
  const content=document.createElement('div'); content.className='content'; card.append(content);
  const render=()=>{ content.textContent=[d.arabic,d.english,d.french][+card.dataset.side]; };
  render();
  card.onclick=e=>{ if(!e.target.closest('button')){ card.dataset.side=(+card.dataset.side+1)%3; render(); } };
  const btns=document.createElement('div'); btns.className='buttons';
  const remBtn=document.createElement('button'); remBtn.className='remember-button';
  const applyR=st=>{ card.classList.toggle('remembered',st); remBtn.classList.toggle('remembered',st);
                     remBtn.textContent=st?'Unmark Remembered':'Mark as Remembered'; };
  applyR(!!rememberedStates[i]);
  remBtn.onclick=()=>{ rememberedStates[i]=!rememberedStates[i]; applyR(rememberedStates[i]); saveRemembered(); };
  btns.append(remBtn);
  const playBtn=document.createElement('button'); playBtn.className='play-button'; playBtn.textContent='üîä';
  playBtn.onclick=()=>{
    const side=+card.dataset.side, txt=[d.arabic,d.english,d.french][side], lang=['ar','en','fr'][side];
    const u=new SpeechSynthesisUtterance(txt), s=voiceSettings[lang];
    if(s.voiceURI) u.voice=speechSynthesis.getVoices().find(v=>v.voiceURI===s.voiceURI); else u.lang=lang;
    u.rate=s.rate; u.pitch=s.pitch; speechSynthesis.speak(u);
  };
  btns.append(playBtn);
  card.append(btns);
  return card;
}
// Flip-all
document.getElementById('flip-all-button').onclick=()=>{
  document.querySelectorAll('.flashcard').forEach((c,i)=>{
    c.dataset.side=0; c.querySelector('.content').textContent = cards[i].arabic;
  });
};
// Init
window.addEventListener('DOMContentLoaded',()=>{
  const cont=document.getElementById('card-container');
  cards.forEach((c,i)=>cont.append(createCard(c,i)));
  if('serviceWorker' in navigator) navigator.serviceWorker.register('sw.js');
});
</script>
<p style="margin:20px 0;">
  <a href="index_en.html">‚Üê Back to English index</a>
</p>
</body></html>